@Master['master.html'];

@Section['Content'];
<script>
  $(document).ready(function () {
    $("#filter").on("keyup", function () {
      var value = $(this).val().toLowerCase();
      $("#serviceTable tr").filter(function () {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
      });
    });
  });

  $(document).ready(function () {
    $("#taskFilter").on("keyup", function () {
      var value = $(this).val().toLowerCase();
      $("#taskTable tr").filter(function () {
        $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
      });
    });
  });
</script>

<h3 class="text-white">Services</h3>>
<input class="form-control" input="text" placeholder="Search..." id="filter">
<br />
<table class="table table-dark table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>Display name</th>
      <th>Start type</th>
      <th>Status</th>
    </tr>
  </thead>
  <tbody id="serviceTable">
    @Each.Services
    <tr>
      <td>@Current.Name</td>
      <td>@Current.DisplayName</td>
      <td>@Current.StartType</td>
      @If.IsRunning
      <td><span class="text-success">@Current.State</span></td>
      @EndIf

      @IfNot.IsRunning
      <td><span class="text-danger">@Current.State</span></td>
      @EndIf
    </tr>
    @EndEach
  </tbody>
</table>
<hr />
<h3 class="text-white">Tasks</h3>>
<input class="form-control" input="text" placeholder="Search..." id="taskFilter">
<br />
<table class="table table-dark table-striped">
  <thead>
    <tr>
      <th>Name</th>
      <th>Enabled</th>
      <th>Last run</th>
      <th>Next run</th>
      <th>State</th>
    </tr>
  </thead>
  <tbody id="taskTable">
    @Each.TaskList
    <tr>
      @If.Enabled
      <td><span class="text-success">@Current.Name</span></td>
      @EndIf

      @IfNot.Enabled
      <td><span class="text-danger">@Current.Name</span></td>
      @EndIf
      <th>@Current.Enabled</th>
      <th>@Current.LastRun</th>
      <th>@Current.NextRun</th>
      <th>@Current.State</th>
    </tr>
    @EndEach
  </tbody>
</table>
<caption class="text-white">@Model.ServiceCount services / @Model.TaskListCount tasks - Duration: @Model.Duration - Last update: @Model.TimeStamp -
  Refresh every 10 minutes</caption>
<a href="@Model.BaseData.BasePath" class="btn btn-dark btn-block" title="Refresh">Refresh</a>
@EndSection